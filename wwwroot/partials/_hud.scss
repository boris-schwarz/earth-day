/* global / game stopped */
.hud {
	@include full-screen;
	box-shadow: inset 0px 0px 0px 2px red;
	display: block;
	left: 0;
	position: fixed;
	top: 0;
	.hud__menu {
		@include full-screen;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;

	}
	.hud__goals {
		left: 2vh;
		top: 2vh;
		opacity: 0.3;
		position: fixed;
	}
	.hud__actions {
		@include full-screen;
		pointer-events: none;
		> [class*="action__"] {
			@include notification-box;
			animation-direction: normal;
			/* animation-duration: 15s; */
			animation-duration: 15s;
			animation-iteration-count: 1;
			animation-timing-function: linear;
			background-color: var(--color-black);
			display: grid; grid-auto-rows: 1fr; //xxx
			pointer-events: all;
			.action--description,
			.action--failed {
				min-width: 100%;
			}
		}
	}
	.hud__notifications {
		@include full-screen;
		pointer-events: none;
		> [class*="notification__"] {
			@include notification-box;
			animation-direction: normal;
			/* animation-duration: 15s; */
			animation-duration: 5s;
			animation-iteration-count: 1;
			animation-timing-function: linear;
			background-color: var(--color-blue-dark);
			pointer-events: all;
		}
	}
	/* .hud__notifications {
		> [class*="notification--"] {
			background-color: var(--color-blue-dark);
			@include notification-box;
		}
	} */
	label,
	a.restart {
		background-color: var(--color-green);
		color: var(--color-black);
		cursor: pointer;
		display: inline-block;
		padding: 1vh 2vh;
		text-decoration: none;
		&:hover {
			background-color: var(--color-green-dark);
		}
	}
}

/* snackbar animations */
@keyframes persistent-snackbar {
	0% {
		transform: translate(-50%, 100%);
	}
	100% {
		transform: translate(-50%, 0);
	}
}

@keyframes critical-snackbar {
	0% {
		transform: translate(-50%, 100%);
	}
	6%, 79% {
		transform: translate(-50%, 50%);
	}
	80% {
		background-color: var(--color-brown);
		clip-path: inset(0 0 0 0);
		transform: translate(-50%, 0);
	}
	80.01%, 100% {
		background-color: red;
		clip-path: inset(50% 0 0 0);
		transform: translate(-50%, 0);
	}
}

/* game running */
.state:has(.state__bool [id="state_intro"]:checked) {
	box-shadow: inset 0px 0px 0px 2px green;
	.hud__menu {
		display: none;
	}
}

/* intro */
.state:has(.state__bool [id="state_intro"]:checked):not(:has(input[id="state_deforestation_happening"]:checked)) {
	.hud__actions .action__intro {
		animation-fill-mode: forwards;
		animation-duration: 1s;
		animation-name: persistent-snackbar;
	}
}

/* deforestation */
.state:has(.state__bool [id="state_deforestation_happening"]:checked):not(:has(input[id="state_deforestation_solved"]:checked)) {
	.hud__actions .action__deforestation {
		animation-fill-mode: forwards;
		animation-name: critical-snackbar;
	}
}